# ESP32-A1S-AudioKit 硬件规格说明

## 项目硬件平台

本项目专为 **AI Thinker ESP32-A1S-AudioKit** 开发板设计，使用 **ES8388** 音频编解码器。

## 硬件规格

### 主控板
- **型号**：AI Thinker ESP32-A1S-AudioKit V2.2 974
- **主控芯片**：ESP32-WROVER-E
- **音频编解码器**：ES8388
- **I2C 地址**：0x10

### 音频接口
- **输入**：3.5mm 音频插孔 (AUX IN/LINE IN)
- **输出**：3.5mm 音频插孔 (耳机输出)
- **采样率支持**：8kHz - 192kHz
- **位宽支持**：16/18/20/24/32位
- **格式**：I2S

### I2S 音频引脚
| 功能 | GPIO | 说明 |
|------|------|------|
| BCK (位时钟) | GPIO27 | I2S 位时钟信号 |
| WS (字时钟) | GPIO25 | I2S 字选择信号 |
| DATA_OUT | GPIO26 | I2S 数据输出 (DAC) |
| DATA_IN | GPIO35 | I2S 数据输入 (ADC) |

### I2C 控制引脚
| 功能 | GPIO | 说明 |
|------|------|------|
| SDA | GPIO33 | I2C 数据线 (ES8388 控制) |
| SCL | GPIO32 | I2C 时钟线 (ES8388 控制) |

### 扩展引脚
**左边**：GND, 3V3, IO39, IO36, IO34, IO0, IO14, IO12, IO13, IO15, IO2, IO4
**右边**：GND, IO3(RXD0), IO1(TXD0), EN, IO21, IO22, IO19, IO23, IO18, IO5

### 外设连接
#### EC11 旋转编码器
- S1 (A相) → IO22
- S2 (B相) → IO19
- KEY (按键) → IO0
- VCC → 3.3V
- GND → GND

#### OLED 显示屏 (SSD1306)
- SDA → IO21
- SCL → IO23
- VCC → 3.3V
- GND → GND

## 版本兼容性

⚠️ **重要提醒**：
- 本项目仅支持使用 **ES8388** 编解码器的版本
- **不支持**早期使用 AC101 编解码器的版本
- 推荐使用 V2.2 974 及以后版本

## 技术特性

### 音频处理能力
- **延迟范围**：0ms - 10000ms
- **延迟精度**：1ms
- **默认采样率**：48kHz
- **音频格式**：16位单声道
- **实时处理**：支持

### 系统资源
- **Flash**：4MB
- **PSRAM**：8MB
- **可用GPIO**：多个扩展引脚
- **电源**：USB 5V 或外部 3.3V

## 开发环境

### 软件要求
- ESP-IDF v5.5+
- CMake 3.16+
- Python 3.8+

### 编译工具链
- Xtensa ESP32 GCC 工具链
- ESP-IDF 构建系统

## 项目特点

✅ **专用设计** - 完全针对 ESP32-A1S-AudioKit 优化
✅ **ES8388 驱动** - 完整的音频编解码器支持
✅ **模块化架构** - 清晰的代码结构
✅ **实时音频** - 低延迟音频处理
✅ **用户界面** - OLED 显示和编码器控制
✅ **设置保存** - NVS 持久化存储

## 注意事项

1. **引脚冲突**：ES8388 占用 GPIO32/33，外设请使用其他引脚
2. **电源要求**：确保 3.3V 电源稳定
3. **音频质量**：使用高质量音频线缆以获得最佳效果
4. **调试接口**：IO1/IO3 用于 UART 调试，烧录时会被占用
